{"title":"架构（二）秒杀架构设计","slug":"yuque/架构（二）秒杀架构设计","date":"2020-05-21T16:00:00.000Z","updated":"2022-05-15T04:19:28.000Z","comments":true,"path":"api/articles/architecture/architecture-miaosha.json","excerpt":"秒杀业务与难点秒杀业务在各业务中已然非常流行，这里我将互联网行业中的秒杀定义为：在非常短的时间内，将一件商品分成多份进行购买的行为。微信抢红包、一元夺宝、双11大促抢购等业务本质上都可视作秒杀业务。而最近大热的抢红包的难度在于这是和钱打交道的秒杀场景，对于事务的要求性更高。秒杀业务优化的难点或者说痛点在于：同一件商品在同一时间段内有非常多的用户去进行抢夺，从而造成服务器资源的紧张。非秒杀情况下，比如非大促的时候，用户购买的体验都是非常不错的。但是在秒杀场景下，这时意味着多个用户在同时抢一件商品，也就是并发很高，但集中在同一商品上，造成实质为串行操作。因为在数据库这层本质执行的是","covers":["https://cdn.nlark.com/yuque/0/2022/png/104130/1648980457917-053f8895-79ab-415f-9308-188a7a3903ef.png#clientId=ue66a0a2f-77e9-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=5141&id=ubd9150e7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=10282&originWidth=2278&originalType=binary%E2%88%B6=1&rotation=0&showTitle=false&size=2363971&status=done&style=none&taskId=u4cc2d65e-8c97-43ae-bef8-709a905f9a7&title=&width=1139"],"content":"<h2 id=\"秒杀业务与难点\"><a href=\"#秒杀业务与难点\" class=\"headerlink\" title=\"秒杀业务与难点\"></a>秒杀业务与难点</h2><p>秒杀业务在各业务中已然非常流行，这里我将互联网行业中的秒杀定义为： 在非常短的时间内，将一件商品分成多份进行购买的行为。微信抢红包、一元夺宝、双 11 大促抢购等业务本质上都可视作秒杀业务。而最近大热的抢红包的难度在于这是和钱打交道的秒杀场景，对于事务的要求性更高。 秒杀业务优化的难点或者说痛点在于： 同一件商品在同一时间段内有非常多的用户去进行抢夺，从而造成服务器资源的紧张。<br>非秒杀情况下，比如非大促的时候，用户购买的体验都是非常不错的。但是在秒杀场景下，这时意味着多个用户在同时抢一件商品，也就是并发很高，但集中在同一商品上，造成实质为串行操作。因为在数据库这层本质执行的是对同一件商品扣库存。<br><img src=\"https://cdn.nlark.com/yuque/0/2022/png/104130/1648980457917-053f8895-79ab-415f-9308-188a7a3903ef.png#clientId=ue66a0a2f-77e9-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=5141&id=ubd9150e7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=10282&originWidth=2278&originalType=binary%E2%88%B6=1&rotation=0&showTitle=false&size=2363971&status=done&style=none&taskId=u4cc2d65e-8c97-43ae-bef8-709a905f9a7&title=&width=1139\" alt=\"image.png\" width=\"1139\"></p>\n","more":"<h2 id=\"秒杀业务与难点\"><a href=\"#秒杀业务与难点\" class=\"headerlink\" title=\"秒杀业务与难点\"></a>秒杀业务与难点</h2><p>秒杀业务在各业务中已然非常流行，这里我将互联网行业中的秒杀定义为： 在非常短的时间内，将一件商品分成多份进行购买的行为。微信抢红包、一元夺宝、双 11 大促抢购等业务本质上都可视作秒杀业务。而最近大热的抢红包的难度在于这是和钱打交道的秒杀场景，对于事务的要求性更高。 秒杀业务优化的难点或者说痛点在于： 同一件商品在同一时间段内有非常多的用户去进行抢夺，从而造成服务器资源的紧张。<br>非秒杀情况下，比如非大促的时候，用户购买的体验都是非常不错的。但是在秒杀场景下，这时意味着多个用户在同时抢一件商品，也就是并发很高，但集中在同一商品上，造成实质为串行操作。因为在数据库这层本质执行的是对同一件商品扣库存。<br><img src=\"https://cdn.nlark.com/yuque/0/2022/png/104130/1648980457917-053f8895-79ab-415f-9308-188a7a3903ef.png#clientId=ue66a0a2f-77e9-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=5141&id=ubd9150e7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=10282&originWidth=2278&originalType=binary%E2%88%B6=1&rotation=0&showTitle=false&size=2363971&status=done&style=none&taskId=u4cc2d65e-8c97-43ae-bef8-709a905f9a7&title=&width=1139\" alt=\"image.png\" width=\"1139\"></p>\n","categories":[{"name":"architecture","path":"api/categories/architecture.json"}],"tags":[{"name":"Architecture","path":"api/tags/Architecture.json"}]}